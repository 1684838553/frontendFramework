## Linux系统硬盘读写慢，如何排查

若服务器硬盘读写慢，导致处理性能降低，用户响应慢（例如：ssh登录操作文件，处理很慢说明磁盘很慢）

### 1. 查看硬盘是否繁忙

`top`

![](https://i-blog.csdnimg.cn/blog_migrate/59ebcb462c7a2deff1a4a4beb8e9f3a3.png)

1. 若值比较大，说明当前硬盘比较繁忙，有大量读写操作，性能降低（大于1，需要重点关注）

2. 若值浮动较小为正常，说明有轻微的文件读写等待时间

### 2. 查看哪些进程占用硬盘带宽较大

`iotop`

展示硬盘读写操作进程的排行

![](https://i-blog.csdnimg.cn/blog_migrate/d1cc95113d54c060c7de9a083c7be436.png)

可以看出进程读写硬盘速度，写入速度，是否涉及交换分区到硬盘，IO百分比，从而确定哪些进程占用较高

### 3. 查看进程读写哪些文件

`lsof -p PID`

![](https://i-blog.csdnimg.cn/blog_migrate/c7c6ac16f3b940dca2aa6cd121287314.png)

列出进程打开的文件，文件描述符，进一步确定该进程哪个文件持续读写，占用大量磁盘写操作，可向应用程序开发者沟通

### 4. 检查硬盘是否存在坏道

`badblocks`

检查硬盘分区有无坏道，可尝试修复或更换硬盘
